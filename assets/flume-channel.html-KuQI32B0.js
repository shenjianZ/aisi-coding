import{_ as a}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as n,c as e,b as s}from"./app-BsgTOlBy.js";const t={},l=s(`<h3 id="flume的常用channel" tabindex="-1"><a class="header-anchor" href="#flume的常用channel"><span>Flume的常用Channel</span></a></h3><h4 id="memory-channel" tabindex="-1"><a class="header-anchor" href="#memory-channel"><span>Memory Channel</span></a></h4><h4 id="file-channel" tabindex="-1"><a class="header-anchor" href="#file-channel"><span>File Channel</span></a></h4><div class="language-properties line-numbers-mode" data-ext="properties" data-title="properties"><pre class="language-properties"><code><span class="token key attr-name">agent-aisi.sources</span> <span class="token punctuation">=</span> <span class="token value attr-value">source-aisi</span>
<span class="token key attr-name">agent-aisi.channels</span> <span class="token punctuation">=</span> <span class="token value attr-value">channel-aisi</span>
<span class="token key attr-name">agent-aisi.sinks</span> <span class="token punctuation">=</span>  <span class="token value attr-value">sink-aisi</span>

<span class="token key attr-name">agent-aisi.sources.source-aisi.type</span> <span class="token punctuation">=</span> <span class="token value attr-value">netcat</span>
<span class="token key attr-name">agent-aisi.sources.source-aisi.bind</span> <span class="token punctuation">=</span> <span class="token value attr-value">localhost</span>
<span class="token key attr-name">agent-aisi.sources.source-aisi.port</span> <span class="token punctuation">=</span> <span class="token value attr-value">44444</span>

<span class="token key attr-name">agent-aisi.channels.channel-aisi.type</span> <span class="token punctuation">=</span> <span class="token value attr-value">file</span>
<span class="token key attr-name">agent-aisi.channels.channel-aisi.dataDir</span> <span class="token punctuation">=</span> <span class="token value attr-value">/root/filedata</span>

<span class="token key attr-name">agent-aisi.sinks.sink-aisi.type</span> <span class="token punctuation">=</span> <span class="token value attr-value">logger</span>

<span class="token key attr-name">agent-aisi.sources.source-aisi.channels</span> <span class="token punctuation">=</span> <span class="token value attr-value">channel-aisi</span>
<span class="token key attr-name">agent-aisi.sinks.sink-aisi.channel</span> <span class="token punctuation">=</span> <span class="token value attr-value">channel-aisi</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>运行命令</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>flume-ng agent <span class="token parameter variable">-n</span> agent-aisi <span class="token parameter variable">-c</span> /usr/local/flume/conf/ <span class="token parameter variable">-f</span> ./flume-file-channel.txt <span class="token parameter variable">-Dflume.root.logger</span><span class="token operator">=</span>INFO,console
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code> telnet localhost <span class="token number">44444</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>数据保存在 <code>/root/.flume/file-channel/data</code>这个目录</p><h4 id="kafka-channel" tabindex="-1"><a class="header-anchor" href="#kafka-channel"><span>Kafka Channel</span></a></h4><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>kafka-topics.sh <span class="token parameter variable">--zookeeper</span> <span class="token number">11.112</span>.227.47:2181 <span class="token parameter variable">--create</span> --replication-factor <span class="token number">1</span> <span class="token parameter variable">--partitions</span> <span class="token number">1</span> <span class="token parameter variable">--topic</span> demo<span class="token punctuation">\\</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>kafka-topics.sh <span class="token parameter variable">--list</span> <span class="token parameter variable">--zookeeper</span> <span class="token number">11.112</span>.227.47:2181
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>消费数据</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>kafka-console-consumer.sh --bootstrap-server <span class="token number">11.112</span>.227.47:9092 <span class="token parameter variable">--topic</span> demo
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>生产数据</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>kafka-console-producer.sh --broker-list <span class="token number">11.112</span>.227.47:9092 <span class="token parameter variable">--topic</span> demo 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-properties line-numbers-mode" data-ext="properties" data-title="properties"><pre class="language-properties"><code><span class="token key attr-name">agent-aisi.sources</span> <span class="token punctuation">=</span> <span class="token value attr-value">source-aisi</span>
<span class="token key attr-name">agent-aisi.channels</span> <span class="token punctuation">=</span> <span class="token value attr-value">channel-aisi</span>
<span class="token key attr-name">agent-aisi.sinks</span> <span class="token punctuation">=</span>  <span class="token value attr-value">sink-aisi</span>

<span class="token key attr-name">agent-aisi.sources.source-aisi.type</span> <span class="token punctuation">=</span> <span class="token value attr-value">netcat</span>
<span class="token key attr-name">agent-aisi.sources.source-aisi.bind</span> <span class="token punctuation">=</span> <span class="token value attr-value">localhost</span>
<span class="token key attr-name">agent-aisi.sources.source-aisi.port</span> <span class="token punctuation">=</span> <span class="token value attr-value">44444</span>

<span class="token key attr-name">agent-aisi.channels.channel-aisi.type</span> <span class="token punctuation">=</span> <span class="token value attr-value">org.apache.flume.channel.kafka.KafkaChannel</span>
<span class="token key attr-name">agent-aisi.channels.channel-aisi.kafka.bootstrap.servers</span> <span class="token punctuation">=</span> <span class="token value attr-value">11.112.227.47:9092</span>
<span class="token key attr-name">agent-aisi.channels.channel-aisi.kafka.topic</span> <span class="token punctuation">=</span> <span class="token value attr-value">aisi</span>

<span class="token key attr-name">agent-aisi.sinks.sink-aisi.type</span> <span class="token punctuation">=</span> <span class="token value attr-value">logger</span>

<span class="token key attr-name">agent-aisi.sources.source-aisi.channels</span> <span class="token punctuation">=</span> <span class="token value attr-value">channel-aisi</span>
<span class="token key attr-name">agent-aisi.sinks.sink-aisi.channel</span> <span class="token punctuation">=</span> <span class="token value attr-value">channel-aisi</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>agent启动</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>flume-ng agent <span class="token parameter variable">-n</span> agent-aisi <span class="token parameter variable">-c</span> /usr/local/flume/conf/ <span class="token parameter variable">-f</span> ./flume-kafka-channel.txt <span class="token parameter variable">-Dflume.root.logger</span><span class="token operator">=</span>INFO,console
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>装有flume的linux监听</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>telnet <span class="token number">11.112</span>.227.32 <span class="token number">44444</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>kafkachannel启动</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>kafka-console-consumer.sh --bootstrap-server <span class="token number">11.112</span>.227.47:9092 <span class="token parameter variable">--topic</span> aisi
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,22),i=[l];function p(c,r){return n(),e("div",null,i)}const d=a(t,[["render",p],["__file","flume-channel.html.vue"]]),m=JSON.parse('{"path":"/bigdata/flume/flume-channel.html","title":"Channel组件","lang":"zh-CN","frontmatter":{"title":"Channel组件","icon":"flume","order":3,"category":"flume","tag":["flume","channel"],"date":"2024-04-23T00:00:00.000Z","description":"Flume的常用Channel Memory Channel File Channel 运行命令 数据保存在 /root/.flume/file-channel/data这个目录 Kafka Channel 消费数据 生产数据 agent启动 装有flume的linux监听 kafkachannel启动","head":[["meta",{"property":"og:url","content":"https://vuepress-theme-hope-docs-demo.netlify.app/aisi-coding/bigdata/flume/flume-channel.html"}],["meta",{"property":"og:site_name","content":"爱思文档"}],["meta",{"property":"og:title","content":"Channel组件"}],["meta",{"property":"og:description","content":"Flume的常用Channel Memory Channel File Channel 运行命令 数据保存在 /root/.flume/file-channel/data这个目录 Kafka Channel 消费数据 生产数据 agent启动 装有flume的linux监听 kafkachannel启动"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-04-23T10:32:33.000Z"}],["meta",{"property":"article:author","content":"shenjianZ"}],["meta",{"property":"article:tag","content":"flume"}],["meta",{"property":"article:tag","content":"channel"}],["meta",{"property":"article:published_time","content":"2024-04-23T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-04-23T10:32:33.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Channel组件\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-04-23T00:00:00.000Z\\",\\"dateModified\\":\\"2024-04-23T10:32:33.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"shenjianZ\\",\\"url\\":\\"https://shenjianl.cn\\",\\"email\\":\\"15202078626@163.com\\"}]}"]]},"headers":[{"level":3,"title":"Flume的常用Channel","slug":"flume的常用channel","link":"#flume的常用channel","children":[{"level":4,"title":"Memory Channel","slug":"memory-channel","link":"#memory-channel","children":[]},{"level":4,"title":"File Channel","slug":"file-channel","link":"#file-channel","children":[]},{"level":4,"title":"Kafka Channel","slug":"kafka-channel","link":"#kafka-channel","children":[]}]}],"git":{"createdTime":1713868353000,"updatedTime":1713868353000,"contributors":[{"name":"shenjianZ","email":"shenjianZLT@gmail.com","commits":1}]},"readingTime":{"minutes":1.69,"words":254},"filePathRelative":"bigdata/flume/flume-channel.md","localizedDate":"2024年4月23日","excerpt":"<h3>Flume的常用Channel</h3>\\n<h4>Memory Channel</h4>\\n<h4>File Channel</h4>\\n<div class=\\"language-properties\\" data-ext=\\"properties\\" data-title=\\"properties\\"><pre class=\\"language-properties\\"><code><span class=\\"token key attr-name\\">agent-aisi.sources</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token value attr-value\\">source-aisi</span>\\n<span class=\\"token key attr-name\\">agent-aisi.channels</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token value attr-value\\">channel-aisi</span>\\n<span class=\\"token key attr-name\\">agent-aisi.sinks</span> <span class=\\"token punctuation\\">=</span>  <span class=\\"token value attr-value\\">sink-aisi</span>\\n\\n<span class=\\"token key attr-name\\">agent-aisi.sources.source-aisi.type</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token value attr-value\\">netcat</span>\\n<span class=\\"token key attr-name\\">agent-aisi.sources.source-aisi.bind</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token value attr-value\\">localhost</span>\\n<span class=\\"token key attr-name\\">agent-aisi.sources.source-aisi.port</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token value attr-value\\">44444</span>\\n\\n<span class=\\"token key attr-name\\">agent-aisi.channels.channel-aisi.type</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token value attr-value\\">file</span>\\n<span class=\\"token key attr-name\\">agent-aisi.channels.channel-aisi.dataDir</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token value attr-value\\">/root/filedata</span>\\n\\n<span class=\\"token key attr-name\\">agent-aisi.sinks.sink-aisi.type</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token value attr-value\\">logger</span>\\n\\n<span class=\\"token key attr-name\\">agent-aisi.sources.source-aisi.channels</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token value attr-value\\">channel-aisi</span>\\n<span class=\\"token key attr-name\\">agent-aisi.sinks.sink-aisi.channel</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token value attr-value\\">channel-aisi</span>\\n</code></pre></div>","autoDesc":true}');export{d as comp,m as data};
